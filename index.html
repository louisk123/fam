<html>
  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script>
    var currentNumber = 1;
    var currentNumber1 = 1;
    var previousrandomnumber=-1;
    var globalrandomnumber;
    var imageResetSource =
      "d1.jpg";

    var matrix = [
  [0,1],
  [1,1],
  [1,2],
      [1,3],
      [1,4],
      [1,5],
      [1,6],
      [2,6],
      [4,5],
      [5,5],
      [5,6],
      [6,6]
      
];
    
function generate(){
    for (var i = 1; i <= 30; i++) {
      rollDice();
    }
    }
    
  

    function rollDice() {

       
      var box = document.getElementById("box");
      var box1 = document.getElementById("box1");
      
        //get random numbe between 1 and 12
    globalrandomnumber=generateRandomNumber1to12(previousrandomnumber);
      previousrandomnumber=globalrandomnumber;
      updateDiv(globalrandomnumber); 
      var randomNumber;
      var randomNumber1;
      
      // generate dice1 image
      
      if (globalrandomnumber==1) {

        randomNumber=1;
        randomNumber1=1;
        updateImageSource();
        
      }
      else{
        resetDice2(); // Reset image
        randomNumber=generateRandomBetween(matrix[globalrandomnumber-1][0],matrix[globalrandomnumber-1][1] )
        randomNumber1=globalrandomnumber-randomNumber
      }
   
     
      
 
      //cleardice images
      box.classList.remove("show-" + currentNumber);
      box1.classList.remove("show-" + currentNumber1);
      
      //update currentrnumber
      currentNumber=randomNumber;
      currentNumber1=randomNumber1;

      //
      box.classList.add("show-" + randomNumber);
      box1.classList.add("show-" + randomNumber1);
    }
    
     function generateRandomNumber1to12(nbr) {
      var newNumber = Math.floor(Math.random() * 12) + 1;
      while (newNumber === nbr) {
        newNumber = Math.floor(Math.random() * 12) + 1;
      }
      return newNumber;
    }
    
     function generateRandomBetween(min,max) {
       return Math.floor(Math.random() * (max - min + 1)) + min;
    }


    
    function resetDice2()
    {
      var sideD1 = document.querySelector(".side1.d11");
      sideD1.querySelector("img").src = imageResetSource;
      //updateDiv("dice reset:" + imageResetSource )
    }
    
    function updateImageSource() {

      var sideD1 = document.querySelector(".side1.d11");
      var imageSource="d0.jpg";
      sideD1.querySelector("img").src = imageSource;
    }
    
    function updateDiv(txt) {
  //var div = document.getElementById("myDiv");
  //div.innerHTML = div.innerHTML + "<br />" + txt;
}
    

  </script>

 <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <center>
      Dice
      <br /><br />
      <div class="container">
        
      <div class="box">
        <div id="box" class="">
          <div class="side d1">
            <img
              src="d1.jpg"
              class="dice-img"
            />
          </div>
          <div class="side d2">
            <img
              src="d2.jpg"
              class="dice-img"
            />
          </div>
          <div class="side d3">
            <img
              src="d3.jpg"
              class="dice-img"
            />
          </div>
          <div class="side d4">
            <img
              src="d4.jpg"
              class="dice-img"
            />
          </div>
          <div class="side d5">
            <img
              src="d5.jpg"
              class="dice-img"
            />
          </div>
          <div class="side d6">
            <img
              src="d6.jpg"
              class="dice-img"
            />
          </div>
        </div>
      </div>
      <div class="box1" id="box1">
        <div class="side1 d11">
          <img
            src="d1.jpg"
            class="dice-img1"
          />
        </div>
        <div class="side1 d21">
          <img
            src="d2.jpg"
            class="dice-img1"
          />
        </div>
        <div class="side1 d31">
          <img
            src="d3.jpg"
            class="dice-img1"
          />
        </div>
        <div class="side1 d41">
          <img
            src="d4.jpg"
            class="dice-img1"
          />
        </div>
        <div class="side1 d51">
          <img
            src="d5.jpg"
            class="dice-img1"
          />
        </div>
        <div class="side1 d61">
          <img
            src="d6.jpg"
            class="dice-img1"
          />
        </div>
      </div>
      </div>
      <br />
       <button onclick="generate()">Roll</button>
        <br />
      <div id="myDiv">debug</div>
    
     
    </center>

   
  </body>
</html>
